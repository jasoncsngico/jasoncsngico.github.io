<link rel="manifest" href="/manifest.json">
<style>
    .smartInstallBanner {
        width: 100%;
        height: 78px;
        font-family: "Helvetica Neue", helvetica, arial, sans-serif;
        background: #fff;
        overflow: hidden;
        border-bottom: 1px solid #ccc;
        margin-bottom: 10px;
        -webkit-font-smoothing: antialiased;
        -webkit-text-size-adjust: none;
        position: fixed;
        bottom: 0;
        left: 0
    }

    .smartInstallBanner-icon {
        position: absolute;
        left: 30px;
        top: 10px;
        display: block;
        width: 57px;
        height: 57px;
        background-size: cover;
    }

    .smartInstallBanner-container {
        margin: 0 auto;
    }

    .smartInstallBanner-close {
        position: absolute;
        left: 7px;
        top: 25px;
        display: block;
        font-family: 'ArialRoundedMTBold', Arial;
        font-size: 15px;
        text-align: center;
        text-decoration: none;
        border-radius: 14px;
        -webkit-font-smoothing: subpixel-antialiased;
        border: 0;
        width: 17px;
        height: 17px;
        line-height: 17px;
        color: #b1b1b3;
        background: #efefef;
    }

    .smartInstallBanner-close:active,
    .smartInstallBanner-close:hover {
        color: #333;
    }

    .smartInstallBanner-info {
        position: absolute;
        left: 98px;
        top: 15px;
        width: 44%;
        font-size: 12px;
        line-height: 1.2em;
        font-weight: bold;
        color: #999;
    }

    .smartInstallBanner-title {
        font-size: 15px;
        line-height: 17px;
        color: #000;
        font-weight: bold;
    }

    .smartInstallBanner-button {
        position: absolute;
        right: 20px;
        top: 24px;
        border-bottom: 3px solid #b3c833;
        padding: 0 10px;
        min-width: 12%;
        height: 24px;
        font-size: 14px;
        line-height: 24px;
        text-align: center;
        font-weight: bold;
        color: #fff;
        background-color: #b3c833;
        text-decoration: none;
        border-radius: 5px;
    }

    .smartInstallBanner-button:hover {
        background-color: #c1d739;
        border-bottom: 3px solid #8c9c29;
    }

    .smartInstallBanner-button-text {
        text-align: center;
        display: block;
        padding: 0 5px;
    }
</style>
<a
    href="https://ocbc.ng-jason.com/testing?pay_req_obj=https://fps.sim.merchant.hkicl.com.hk/hkab-merchant-testing-server/payment/FC8A3DF3AB4B0C39295C50992896C92C/59A98B913DCE5F0218F1F70DB9CE0B1C&callback=https://yahoo.com.hk">UAT
    Testing with callback</a>
<br>
<br>
<a
    href="https://ocbc.ng-jason.com/dev?pay_req_obj=https://fps.sim.merchant.hkicl.com.hk/hkab-merchant-testing-server/payment/FC8A3DF3AB4B0C39295C50992896C92C/59A98B913DCE5F0218F1F70DB9CE0B1C&callback=https://yahoo.com.hk">DEV
    Testing with callback</a>
<br>
<br>
<a
    href="https://ocbc.ng-jason.com/testing?pay_req_obj=https://fps.sim.merchant.hkicl.com.hk/hkab-merchant-testing-server/payment/FC8A3DF3AB4B0C39295C50992896C92C/59A98B913DCE5F0218F1F70DB9CE0B1C">UAT
    Testing without callback</a>
<br>
<br>
<a
    href="https://ocbc.ng-jason.com/dev?pay_req_obj=https://fps.sim.merchant.hkicl.com.hk/hkab-merchant-testing-server/payment/FC8A3DF3AB4B0C39295C50992896C92C/59A98B913DCE5F0218F1F70DB9CE0B1C">DEV
    Testing without callback</a>
<div class="smartInstallBanner" id="smartInstallBanner">
    <div class="smartInstallBanner-container">
        <a href="#" onclick="return closeBanner(event);" id="smb-close" class="smartInstallBanner-close">&times;</a>
        <span class="smartInstallBanner-icon">
            <img src="images/ic_launcher48.png" />
        </span>
        <div class="smartInstallBanner-info">
            <div class="smartInstallBanner-title">OCBC Wing Hang Bank (Hong Kong)</div>
            <span>Download From Google Play</span>
        </div>
        <a href="https://play.google.com/store/apps/details?id=com.winghang" target="_blank"
            class="smartInstallBanner-button">
            <span class="smartInstallBanner-button-text">Download</span>
        </a>
    </div>
</div>
<script>

    let deferredPrompt;
    const installBanner = document.querySelector('.smartInstallBanner');
    installBanner.style.display = 'none';
    const installBannerCloseBtn =  document.querySelector('.smartInstallBanner-close');
    console.log("hello")

    window.addEventListener('beforeinstallprompt', (e) => {
        // Prevent Chrome 67 and earlier from automatically showing the prompt
        e.preventDefault();
        // Stash the event so it can be triggered later.
        deferredPrompt = e;
        // Update UI notify the user they can add to home screen
        installBanner.style.display = 'block';

        console.log("I am here")

    });

    function closeBanner (e) {
        e.preventDefault();
        installBanner.style.display = 'none';
    }
</script>